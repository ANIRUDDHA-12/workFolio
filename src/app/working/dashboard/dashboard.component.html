<div class="faculty-tracker">
  <!-- Header Section -->
  <header class="header">
    <div class="header-content">
      <div class="header-left">
        <div class="graduation-cap-icon">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
            <path d="M12 3L1 9L12 15L21 9V16H23V9L12 3Z" fill="white"/>
            <path d="M5 13.18V17.18C5 17.97 5.63 18.74 6.4 19.09C8.61 20.15 10.26 20.73 12 20.73C13.74 20.73 15.39 20.15 17.6 19.09C18.37 18.74 19 17.97 19 17.18V13.18L12 17L5 13.18Z" fill="white"/>
          </svg>
        </div>
        <div class="header-text">
          <h1>Welcome, {{ userName }}</h1>
          <p>Track your academic activities and monitor workload efficiently</p>
        </div>
      </div>
      <div class="header-right">
        <div class="user-profile">
          <span class="user-name">Welcome, {{ userName }}</span>
          <button class="logout-btn" (click)="logout()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M16 17l5-5-5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M21 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Logout
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="navigation">
    <div class="nav-item" routerLink="/dashboard" routerLinkActive="active">Dashboard</div>
    <div class="nav-item" routerLink="/log-task" routerLinkActive="active">Log Task</div>
    <div class="nav-item" routerLink="/analytics" routerLinkActive="active">Analytics</div>
  </nav>

  <!-- Stats Section -->
  <div class="stats-container">
    <div class="stat-card">
      <h3>Total Tasks</h3>
      <div class="stat-value">{{ totalTasks }}</div>
    </div>
    <div class="stat-card">
      <h3>Total Hours</h3>
      <div class="stat-value">{{ totalHours.toFixed(1) }}h</div>
    </div>
    <div class="stat-card">
      <h3>Active Subjects</h3>
      <div class="stat-value">{{ activeSubjects }}</div>
    </div>
  </div>

  <!-- Recent Tasks Section -->
  <div class="recent-tasks-section">
    <div class="section-header">
      <h2>Recent Tasks</h2>
      <span class="task-count">{{ tasks.length }} task(s)</span>
    </div>

    <!-- Show empty state if no tasks -->
    <div *ngIf="tasks.length === 0" class="empty-state">
      <div class="graduation-cap-icon-large">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none">
          <path d="M12 3L1 9L12 15L21 9V16H23V9L12 3Z" fill="#9ca3af"/>
          <path d="M5 13.18V17.18C5 17.97 5.63 18.74 6.4 19.09C8.61 20.15 10.26 20.73 12 20.73C13.74 20.73 15.39 20.15 17.6 19.09C18.37 18.74 19 17.97 19 17.18V13.18L12 17L5 13.18Z" fill="#9ca3af"/>
        </svg>
      </div>
      <h3>No tasks logged yet</h3>
      <p>Start by logging your first academic activity</p>
      <button class="log-task-btn" (click)="logFirstTask()">Log Your First Task</button>
    </div>

    <!-- Show task table if tasks exist -->
    <table *ngIf="tasks.length > 0" class="task-table">
      <thead>
        <tr>
          <th>Subject</th>
          <th>Work Type</th>
          <th>Hours</th>
          <th>Date</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let task of tasks | slice:-5"> <!-- Show last 5 -->
          <td>{{ task.subject }}</td>
          <td>{{ task.workType }}</td>
          <td>{{ task.hours }}h</td>
          <td>{{ task.date | date: 'mediumDate' }}</td>
          <td>{{ task.description || '-' }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
